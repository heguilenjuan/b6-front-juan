import{r as i,j as e,c as C,h as _,L as v}from"./index-_653OGoe.js";import{u as x}from"./useIsMobile-CnjgqBn3.js";import{p as N}from"./WEBAPP B6-Menu- PAMPEANA-mk2bLoAR.js";const m=i.createContext(void 0),S=({children:s})=>{const[c,o]=i.useState([]),[n,a]=i.useState(null),t=l=>{a(l)},d=()=>{};return e.jsx(m.Provider,{value:{coupons:c,setCoupons:o,selectedCoupon:n,selectCoupon:t,openCouponModal:d},children:s})},u=()=>{const s=i.useContext(m);if(!s)throw new Error("useCouponsContext debe usarse dentro de CouponsProvider");return s},p=C(e.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),h=({coupon:s})=>{const[c,o]=i.useState(null),{selectedCoupon:n}=u(),a=x(),t=(n==null?void 0:n.id)===s.id,d=a?c===s.id.toString():t,l=()=>{a&&o(j=>j===s.id.toString()?null:s.id.toString())};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"coupon",onClick:l,children:[e.jsx("img",{src:s.conditions.ids[0],alt:"Cupón",className:"coupon-image"}),e.jsxs("div",{className:"text-discount",children:[e.jsxs("span",{children:[s.discount.value," %"]}),e.jsx("span",{children:"OFF"})]}),e.jsx("div",{className:"line-dotted top"}),e.jsx("div",{className:"line-dotted bottom"}),e.jsxs("div",{className:"coupon-name",children:[e.jsx(p,{className:"star-icon"}),s.name,e.jsx(p,{className:"star-icon"})]}),e.jsx("div",{className:"img-heart",children:e.jsx("img",{src:_,alt:"Favorito"})}),e.jsx("div",{className:"slash"})]}),d&&e.jsxs("div",{className:"btn-coupon-box",children:[e.jsx("span",{className:"text-coupon",children:s.description}),e.jsx("button",{className:"btn-coupon",children:"Obtener cupón"})]},`${s.id}-details`)]})},g="/assets/WEBAPP%20B6-Menu-OLIVIA-qoYrE0ml.jpg",f="/assets/WEBAPP%20B6-Menu-CLASSIC%20LT-C3OPUPPD.jpg",r=[{id:"1",name:"CLASSIC LT",status:"active",externalReference:"promo-001",description:"20% OFF en el combo CLASSIC LT",discount:{value:20,type:{unit:"percentage",currency:"ARS"}},conditions:{applies_to:"products",ids:[f],date_range:{has_expiration:!0,start_date:new Date("2025-04-01T00:00:00Z"),end_date:new Date("2025-04-30T23:59:59Z")},usage:{max_uses:100,count_uses:12,user_by:[]}},code:"CLASSIC20"},{id:"2",name:"PAMPEANA",status:"active",externalReference:"promo-002",description:"25% OFF en la BESTIA con bebida",discount:{value:25,type:{unit:"percentage",currency:"ARS"}},conditions:{applies_to:"products",ids:[N],date_range:{has_expiration:!0,start_date:new Date("2025-04-01T00:00:00Z"),end_date:new Date("2025-04-20T23:59:59Z")},usage:{max_uses:50,count_uses:7,user_by:[]}},code:"BESTIA25"},{id:"3",name:"2x1 BAHIENSE",status:"active",externalReference:"promo-003",description:"2x1 en OLIVIA",discount:{value:50,type:{unit:"percentage",currency:"ARS"}},conditions:{applies_to:"products",ids:[g],date_range:{has_expiration:!0,start_date:new Date("2025-04-01T00:00:00Z"),end_date:new Date("2025-04-15T23:59:59Z")},usage:{max_uses:200,count_uses:89,user_by:[]}},code:"YOGUR2X1"}],b=()=>{const{coupons:s,setCoupons:c,selectCoupon:o}=u();return i.useEffect(()=>{c(r)},[]),e.jsxs("section",{className:"coupons-mobile",children:[e.jsx("div",{children:e.jsx("h1",{children:"Tremendos Off!"})}),e.jsx("div",{className:"coupons",children:s?s.map(n=>e.jsx("div",{onClick:()=>o(n),children:e.jsx(h,{coupon:n})},n.id)):null})]})},A=()=>{const{coupons:s,setCoupons:c,selectCoupon:o,selectedCoupon:n,openCouponModal:a}=u();return i.useEffect(()=>{c(r),r.length>0&&(o(r[0]),a())},[]),e.jsxs("section",{className:"coupons-desk",children:[e.jsx("div",{className:"coupons-desk__header",children:e.jsx("h1",{children:"Tremendos off!"})}),e.jsxs("div",{className:"coupons-desk__content",children:[e.jsxs("div",{className:"coupons-desk__content__left",children:[e.jsx("div",{className:"coupons-desk__content__left__title",children:e.jsx("h2",{className:"cupones-title",children:"🎁 Cupones Disponibles"})}),e.jsx("div",{className:"coupons-list",children:s&&s.map(t=>e.jsxs("div",{className:"coupon-item",onClick:()=>{o(t),a()},children:[e.jsx("h4",{children:t.name}),e.jsxs("span",{children:[t.discount.value,t.discount.type.unit==="percentage"?"%":null,"OFF"]})]},t.id))})]}),e.jsx("div",{className:"coupons-desk__content__right",children:n&&e.jsx(h,{coupon:n})})]})]})},T=()=>{const s=x();return e.jsx(S,{children:e.jsx(v,{children:s?e.jsx(b,{}):e.jsx(A,{})})})};export{T as default};
