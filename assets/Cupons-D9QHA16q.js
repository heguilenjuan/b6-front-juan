import{r as i,j as e,c as u,h as C,L as v}from"./index-DA45Lbkd.js";import{u as m}from"./useIsMobile-Dp1qFxly.js";import{p as g}from"./WEBAPP B6-Menu- PAMPEANA-mk2bLoAR.js";const h=i.createContext(void 0),N=({children:s})=>{const[c,o]=i.useState([]),[n,a]=i.useState(null),t=l=>{a(l)},r=()=>{};return e.jsx(h.Provider,{value:{coupons:c,setCoupons:o,selectedCoupon:n,selectCoupon:t,openCouponModal:r},children:s})},p=()=>{const s=i.useContext(h);if(!s)throw new Error("useCouponsContext debe usarse dentro de CouponsProvider");return s},x=u(e.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),b=u(e.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),S=u(e.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),j=({coupon:s})=>{const[c,o]=i.useState(null),{selectedCoupon:n}=p(),a=m(),t=(n==null?void 0:n.id)===s.id,r=a?c===s.id.toString():t,l=()=>{a&&o(_=>_===s.id.toString()?null:s.id.toString())};return e.jsxs(e.Fragment,{children:[e.jsxs("article",{role:"button","aria-expanded":r?"true":"false",className:"coupon",tabIndex:0,onClick:l,children:[e.jsx("img",{src:s.conditions.ids[0],alt:`Imagen del cupÃ³n ${s.name}`,className:"coupon-image"}),a?r?e.jsx(S,{className:"coupon-icon-mobile","aria-label":"Ocultar detalles"}):e.jsx(b,{className:"coupon-icon-mobile","aria-label":"Mostrar detalles"}):null,e.jsxs("div",{className:"text-discount",children:[e.jsxs("span",{children:[s.discount.value," %"]}),e.jsx("span",{children:"OFF"})]}),e.jsx("div",{className:"line-dotted top"}),e.jsx("div",{className:"line-dotted bottom"}),e.jsxs("h3",{className:"coupon-name",id:`coupon-title-${s.id}`,children:[e.jsx(x,{className:"star-icon","aria-hidden":"true"}),s.name,e.jsx(x,{className:"star-icon","aria-hidden":"true"})]}),e.jsx("div",{className:"img-heart",children:e.jsx("img",{src:C,alt:"Imagen de corazon de big six"})}),e.jsx("div",{className:"slash","aria-hidden":"true"})]}),r&&e.jsxs("section",{className:"btn-coupon-box","aria-live":"polite",children:[e.jsx("p",{className:"text-coupon",children:s.description}),e.jsx("button",{className:"btn-coupon",children:"Obtener cupÃ³n"})]},`${s.id}-details`)]})},f="/assets/WEBAPP%20B6-Menu-OLIVIA-qoYrE0ml.jpg",A="/assets/WEBAPP%20B6-Menu-CLASSIC%20LT-C3OPUPPD.jpg",d=[{id:"1",name:"CLASSIC LT",status:"active",externalReference:"promo-001",description:"20% OFF en el combo CLASSIC LT",discount:{value:20,type:{unit:"percentage",currency:"ARS"}},conditions:{applies_to:"products",ids:[A],date_range:{has_expiration:!0,start_date:new Date("2025-04-01T00:00:00Z"),end_date:new Date("2025-04-30T23:59:59Z")},usage:{max_uses:100,count_uses:12,user_by:[]}},code:"CLASSIC20"},{id:"2",name:"PAMPEANA",status:"active",externalReference:"promo-002",description:"25% OFF en la BESTIA con bebida",discount:{value:25,type:{unit:"percentage",currency:"ARS"}},conditions:{applies_to:"products",ids:[g],date_range:{has_expiration:!0,start_date:new Date("2025-04-01T00:00:00Z"),end_date:new Date("2025-04-20T23:59:59Z")},usage:{max_uses:50,count_uses:7,user_by:[]}},code:"BESTIA25"},{id:"3",name:"2x1 BAHIENSE",status:"active",externalReference:"promo-003",description:"2x1 en OLIVIA",discount:{value:50,type:{unit:"percentage",currency:"ARS"}},conditions:{applies_to:"products",ids:[f],date_range:{has_expiration:!0,start_date:new Date("2025-04-01T00:00:00Z"),end_date:new Date("2025-04-15T23:59:59Z")},usage:{max_uses:200,count_uses:89,user_by:[]}},code:"YOGUR2X1"}],I=()=>{const{coupons:s,setCoupons:c,selectCoupon:o}=p();return i.useEffect(()=>{c(d)},[]),e.jsxs("section",{className:"coupons-mobile",children:[e.jsx("div",{children:e.jsx("h1",{children:"Tremendos Off!"})}),e.jsx("div",{className:"coupons",children:s?s.map(n=>e.jsx("div",{onClick:()=>o(n),children:e.jsx(j,{coupon:n})},n.id)):null})]})},L=()=>{const{coupons:s,setCoupons:c,selectCoupon:o,selectedCoupon:n,openCouponModal:a}=p();return i.useEffect(()=>{c(d),d.length>0&&(o(d[0]),a())},[]),e.jsxs("section",{className:"coupons-desk",children:[e.jsx("div",{className:"coupons-desk__header",children:e.jsx("h1",{children:"Tremendos off!"})}),e.jsxs("div",{className:"coupons-desk__content",children:[e.jsxs("div",{className:"coupons-desk__content__left",children:[e.jsx("div",{className:"coupons-desk__content__left__title",children:e.jsx("h2",{className:"cupones-title",children:"ðŸŽ Cupones Disponibles"})}),e.jsx("div",{className:"coupons-list",children:s&&s.map(t=>e.jsxs("div",{className:"coupon-item",onClick:()=>{o(t),a()},children:[e.jsx("h4",{children:t.name}),e.jsxs("span",{children:[t.discount.value,t.discount.type.unit==="percentage"?"%":null,"OFF"]})]},`cupon-${t.id}`))})]}),e.jsx("div",{className:"coupons-desk__content__right",children:n&&e.jsx(j,{coupon:n})})]})]})},P=()=>{const s=m();return e.jsx(N,{children:e.jsx(v,{children:s?e.jsx(I,{}):e.jsx(L,{})})})};export{P as default};
